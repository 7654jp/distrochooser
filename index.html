<?php
	include "./bridge.php";
	$description = isset($_GET["l"]) && $_GET["l"] === "2" ? "The distrochooser helps you to find the suitable Distribution for you!" : "Der Distrochooser hilft, im Dschungel der Linux-Distributionen die persönlich passende Distribution zu finden.";
?>
<!DOCTYPE html>
<html id="app" lang="<?php echo isset($_GET["l"]) && $_GET["l"] === "2" ? 'en' : 'de';?>">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">
	<meta name="description" lang = "<?php echo isset($_GET["l"]) && $_GET["l"] === "2" ? 'en' : 'de';?>"  content ="<?php echo $description;?>">
	<meta name="keywords" content="Linux, Distrochooser, Linux Chooser, Linux Distribution Chooser, Linux Auswahlhilfe, Linux Auswahl, Alternative to Windows, Linux Comparison, Linux Vergleich, Vergleich, Auswahlhilfe, Alternative zu Windows">
	<meta name="theme-color" content="#158cba">
	<meta property="og:title" content="Distrochooser" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://distrochooser.de" />
	<meta property="og:image" content="https://distrochooser.de/assets/tux.png" />
	<meta property="og:image:type" content="image/png" />
	<meta property="og:image:width" content="500" />
	<meta property="og:image:height" content="253" />
	<meta property="og:description" content="<?php echo $description; ?>" />
	<meta property="og:locale" content="<?php echo isset($_GET["l"]) && $_GET["l"] === "2" ? 'en_GB' : 'de_DE';?>" />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@distrochooser" />
	<meta name="twitter:title" content="Distrochooser" />
	<meta name="twitter:description" content="<?php echo $description;?>" />
	<meta name="twitter:image" content="https://distrochooser.de/assets/tux.png" />
	<meta name="google-site-verification" content="nqtoKAtXX7xTNyddaEGkkYtgpc0pc0b-wigel0Acy5c" />
	<meta name="msvalidate.01" content="8165DC81CC6E5D6805201B58C5596403" />
	<meta name="generator" content="LDC 2017">
	<link rel="icon" href=favicon.ico type="image/x-icon" >
	<title>Distrochooser</title>
	<script>
		window.vm = null;
	</script>
	<link rel="stylesheet" href="./built/3rdparty.min.css">
	<link href="./built/ldc.min.css" rel='stylesheet' type='text/css'>
</head>
<body>
	<div class="loader visible" v-bind:class="{'visible':!loaded,'hidden':loaded}">
		<p class="hidden-xs">
			<span class="loader-image-wrapper"><img src="./assets/mobile.png"></span>
		</p>
		<p class="visible-xs">
			<span class="mobile-loader-image-wrapper"><img src="./assets/round.png"></span>
		</p>
		<span class="loader-text"></span>
		<noscript>
			<div class="well noscript">
				Der Distrochooser benutzt JavaScript, um zu funktionieren. JavaScript ist ein integraler Bestandteil des Internets (geworden). Ohne JavaScript ist eine Software wie der Distrochooser schlicht nicht möglich.
				<hr>
				The Distrochooser needs enabled JavaScript. JavaScript had become an important part of web technologies. A software like the Distrochooser is not possible without JavaScript.
				<hr>
				<a href="https://distrochooser.de/static/privacy.html">Datenschutz | Privacy</a>
				<br>
				<a href="https://distrochooser.de/static/contact.html">Kontakt | Contact</a>
			</div>
		</noscript>
	</div>
	<?php if (!isset($_SERVER["HTTP_DNT"]) || (isset($_SERVER["HTTP_DNT"]) && $_SERVER["HTTP_DNT"] === "0") ) :?>
		<iframe class="advertisment" src="https://chmr.eu/ad.html">

		</iframe>
	<?php endif;?>
	<div class="container main-container hidden"  v-bind:class="{'hidden':!loaded,'visible':loaded}">
		<div class="row">
			<?php include "./static/about.html";?>
			<div class="col-lg-3">
				<div class="row">
					<div class="visible-lg">

						<a href="about" class="btn btn-primary button-left-nav contact" data-toggle="modal" data-target="#about">{{ text('about') }}</a>
						<span class="spacer"></span>
						
						<a class="btn btn-primary button-left-nav contact" href="./static/privacy.html">{{ text('privacy') }}</a>
						<span class="spacer"></span>

						<a class="btn btn-primary button-left-nav contact" href="./static/contact.html">{{ text('contact') }}</a>
						<span class="spacer"></span>

						<a class="btn btn-primary button-left-nav" target="_blank" href="http://0fury.de"><img class="vendor" alt="0fury.de" src="./assets/0fury.ico">
						<span>{{ text('Vendor') }}</span>  0fury.de</a>
						<span class="spacer"></span>

						<a title="Zur deutschen Version wechseln" href="?l=1" v-on:click.prevent="changeLanguage('de')"><img class="flag" src="./assets/langs/de.png" alt="Deutsch"></a>
						<a title="Switch to english version" href="?l=2" v-on:click.prevent="changeLanguage('en')"><img class="flag" src="./assets/langs/gb.png" alt="English"></a>
						<ul class="list-group col-lg-9 other-users">
								<li class="list-group-item" v-for="result in otherUserResults">
									<div>
											<i class="fa fa-user"></i> {{ text('a') }} {{result.os}}-User {{ text('comments') }}:
									</div>
									<i v-for="star in result.stars" class="fa fa-star" aria-hidden="true"></i>
								</li>
								</li>
						</ul>
					</div>
					<div class="hidden-lg">
				<!--<ul class="nav nav-pills" role="tablist">
			</ul>-->
			<nav class="navbar navbar-default">
				<div class="container-fluid">
					<div class="navbar-header">
						<a class="navbar-brand brand" href="index.html">
							Distrochooser
						</a>
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example-navbar-collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse" id="example-navbar-collapse">
						<ul class="nav navbar-nav">
							<li role="presentation">
								<a class="flags" title="Zur deutschen Version wechseln" href="?l=1">
									<img class="flag" src="./assets/langs/de.png" alt="Deutsch">
								</a>

								<a class="flags" title="Switch to english version" href="?l=2">
									<img class="flag" src="./assets/langs/gb.png" alt="English">
								</a>
							</li>
							<li role="presentation">
							</li>
							<li role="presentation"> <a class="sprivacy" id="privacy" href="./static/privacy.php">{{ text('privacy') }}</a></li>
							<li role="presentation"> <a class="scontact" id="contact" href="./static/contact.php">{{ text('contact') }}</a></li>
						</ul>
					</div>
				</div>
			</nav>
		</div>
	</div>


</div>
<div class="col-lg-6 main">
	<div class="alert alert-warning" v-if="isOldTest">
		{{ text("oldTest"); }}

	</div>
	<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="false">
		<div v-for="question in questions" v-if="isQuestionAllowed(question)" class="panel panel-default">
			<div class="panel-heading" role="tab" :id="'header' + question.id">
				<h4 class="panel-title">
					<a class="question-header" :ldc-header="question.id" role="button" data-toggle="collapse" data-parent="#accordion" :href="'#collapse' + question.id" aria-expanded="true" :aria-controls="'collapse' +question.id" v-bind:class="{'answered':question.answered}" >
						<span v-if="question.number !== -1">{{ getNumber(question) }}. </span>{{ question.text }}
					</a>
				</h4>
				<a href="#" class="fa fa-exclamation-circle mark-important" v-bind:class="{'important':question.important,'hidden':question.answers.length=== 0}" :data-id="question.id" v-on:click.prevent="makeImportant(question)"  :title="text('important-button')"></a>
			</div>
			<div :id="'collapse' + question.id" class="panel-collapse collapse question" role="tabpanel" :aria-labelledby="'header' +question.id">
				<div class="panel-body">
					<p v-html = "question.number === -1 ? '' : question.help"></p>
					<img class="largelogo" src="./assets/tux.png" v-if="question.id === 'welcome'">
					<div id="StartText" v-if="question.id === 'welcome'">
						<span v-html="text('introText')"></span>
						<ul class="list">
							<li>{{ text('can-skip-questions') }} </li>
							<li>{{ text('can-get-result-anytime') }} </li>
							<li>{{ text('can-get-result-anyorder') }}</li>
							<li v-html="text('can-delete')"></li>
							<li v-html="text('can-mark-important')"></li>
							<li v-html="text('get-exclusion')"></li>
						</ul>
					</div>
					<div v-if="question.answers.length !== 0" class="answer-parent">
						 <div :class="question.single ? 'radio' : 'checkbox'" v-for="answer in question.answers">
							<p v-if="question.single">
								<input :id="answer.id" :checked='answer.selected ' :name="question.id + '_a'" :data-id="answer.id" type="radio" v-on:click="updateAnsweredFlag($event,answer,question)"> 
								<label  class="answer-text"  :for="answer.id" v-bind:class="{ 'selected': answer.selected }">
									{{ answer.text }}
								</label>
								<i v-on:click.prevent="showTooltip(translateExcludedTags(answer),$event)" v-if="displayFilters && answer.notags.length > 0" class="fa fa-question-circle fa-question-exclude" data-placement='left' data-html="true" :data-title = "translateExcludedTags(answer)"></i>				
							</p>
							<p v-if="!question.single">
								<input :id="answer.id" v-model="answer.selected" :data-id="answer.id" :name="question.id + '_a'" type="checkbox" v-on:change="updateAnsweredFlag($event,answer,question)"> 
								<label class="answer-text" :for="answer.id" v-bind:class="{ 'selected': answer.selected }">
									{{ answer.text }}
								</label>
								<i v-on:click.prevent="showTooltip(translateExcludedTags(answer),$event)" v-if="displayFilters && answer.notags.length > 0" class="fa fa-question-circle" data-placement='left' data-html="true" :data-title = "translateExcludedTags(answer)"></i>
							</p>
						</div>
					</div>
					<a href="#" :class="'btn btn-primary ' +question.id + '-next'" :data-id="question.id + '-next'" v-on:click.prevent="nextTrigger(question.id)" >
						{{ lastQuestionNumber=== question.number ? text("getresult") : (question.number === -1 ? text("StartTest")   :text("nextQuestion"))}}
					</a>
					<a v-if="lastQuestionNumber !== question.number && question.number !== -1" href="#" class="skip-question hidden-xs" v-on:click.prevent="nextTrigger(question.id)"><i class="fa fa-mail-forward"></i> {{ text("skip-question"); }}</a>
					<a href="#" class="clear-answer" v-if="question.answered" v-on:click.prevent="removeAnswers(question)"><i class="fa fa-trash remove-answer"></i> {{ text("clear"); }}</a>
				</div>
			</div>
		</div>
		<div class="panel panel-default" v-show="answered.length > 0">
			<div class="panel-heading" role="tab" id="header-result">
				<h4 class="panel-title">
					<a class="result-header" id="Result" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-result" aria-expanded="true" aria-controls="collapse-result" v-on:click="addResult">
						{{ text('Result') }}
					</a>
				</h4>
			</div>
			<div id="collapse-result" class="panel-collapse collapse question result-collapse" role="tabpanel" aria-labelledby="header-result">
				<div class="panel-body">
					<a href="#" id="rating-anchor"></a>

					<div class="rating" v-if="commentSent==false && !currentTestLoading">
						<p class="rating-text" id="ResultRatingHeader">{{ text('ResultRatingHeader') }}</p>
						<div class="share-link" v-if="currentTestLoading">
							<i class="fa fa-spin fa-circle-o-notch"></i>
						</div>
						<div class="share-link" v-if="!currentTestLoading">
							<input type="text" class="form-control" :value="shareLink">
						</div>
						<div id="rating-stars"></div>
						<textarea data-selector="zero-stars" data-placement="top" :data-title="text('zerostars')" v-model="comment" class="form-control" :placeholder="text('comment')"></textarea>
						<input class="form-control email" type="email" :placeholder="text('email')" v-model="email" v-if="comment !== ''">
						<button id="submit-comment" v-on:click="publishRating($event)" class="btn btn-primary">{{ text('submit-comment') }}</button>
						<div class="social" v-if="currentTestLoading">
							<i class="fa fa-spin fa-circle-o-notch"></i>
						</div>
						<div class="social" v-if="!currentTestLoading">
							<div>
								<a :href="'https://twitter.com/share?url=' + shareLink + '&hashtags=distrochooser,linux&via=distrochooser'"><i class="fa fa-twitter"></i></a>
								<a :href="'https://www.facebook.com/sharer/sharer.php?u=' + shareLink"><i class="fa fa-facebook"></i></a>
								<a :href="'https://plus.google.com/share?url=' + shareLink"><i class="fa fa-google-plus"></i></a>
								<a href="https://github.com/cmllr/distrochooser"><i class="fa fa-github"></i></a>
							</div>
						</div>
						<div class="donation" v-if="!currentTestLoading && donationEnabled">
							<span>
								{{ text("donation") }} <i class="fa fa-heart" style="color:#ca1717"></i>
							</span>
							<p>	
								<!-- its disabled -->
								<a href=""><img class="donateButton" src="./assets/btn_donate_SM.gif"></a>
							</p>
						</div>
					</div>
					<div>
					</div>
					<div class="you" style="display:none;" v-html="text"></div>
					<div class="rating-sent" v-if="commentSent==true">
						{{ text("thanksForRating") }} 
					</div>
					<div v-for="distro in distributions">
						<div class="panel panel-default distribution" v-show="!distro.excluded">
							<div class="panel-heading" >
								{{ distro.name }}: {{ distro.percentage }}%
								<a class="link" :href="distro.homepage">Website</a>
							</div>
							<div class="panel-body">
								<p>
									<img class="distro-logo" v-bind:src = "distro.image" v-if="currentTest !== -1"/>
									<p v-html="distro.description"></p>
									<hr>
								</p>
								<div class="form-group">
									<h4 class="panel-title full-width-header">
										 {{ text('why') }} {{ distro.name }}?
									</h4>
									<p class="tags">
										<span v-for="tag in distro.tags" track-by="$index" v-if="getTagTranslation(tag) !== tag">
											<i class="fa" v-bind:class="{'fa-question':!isTagChoosed(tag),'fa-check':isTagChoosed(tag)}" v-bind:title="text('doesntfit')"  v-if="!isTagChoosed(tag)"></i>
											<i class="fa" v-bind:class="{'fa-check':isTagChoosed(tag)}" v-if="isTagChoosed(tag)" v-bind:title="text('fits')"></i>
									
											{{ getTagTranslation(tag)}}		
										</span>
									</p>
								</div>
							</div>
							<div class="panel-footer panel-distro-footer">
								<a class="link" :href="distro.textsource">Text</a>
								<a class="link" :href="distro.imagesource">Logo</a>
							</div>
						</div>
					</div>
					<div v-for="excluded in excludedDistros" v-if="displayExcluded">
						<div class="panel panel-default distribution">
							<div class="panel-heading" >
								{{ excluded.name }}: {{ text('excluded') }}
								<a class="link" :href="excluded.homepage">Website</a>
							</div>
							<div class="panel-body">
								<img class="distro-logo" v-bind:src = "excluded.image" v-if="currentTest !== -1" />
								<p v-html="excluded.description"></p>
								<hr>
								<div class="form-group">
									<h4 class="panel-title">
										{{ text('why') }} {{ text('not') }} {{ excluded.name }}?
									</h4>
									<p class="tags">
										<span v-for="tag in excluded.tags" track-by="$index" v-if="(typeof currentTags['!' + tag] !== 'undefined')">
											<i class="fa fa-times" v-bind:title="text('doesntfit')" ></i>
											{{ text('NotComplied') }}:
											{{ getTagTranslation(tag)}}
											<span class="exclude-reason">
												<b>{{ text('why') }}?</b> "{{  getExcludingAnswer(tag) }}"
											</span>
										</span>
									</p>
								</div>
							</div>
							<div class="panel-footer panel-distro-footer">
								<a class="link" :href="excluded.textsource">Text</a>
								<a class="link" :href="excluded.imagesource">Logo</a>
							</div>
						</div>
					</div>
					<div class="panel-body" v-if="distributionsCount=== 0">
						<a href="#" id="rating-anchor"></a>
						<p>{{ text("NoResults") }}</p>
					</div>
				</div>
			</div>

		</div>
		</div>
		</div>
		<div class="col-md-1">
		</div>
		<div class="col-lg-2">
			<div class="row right-box">
				<ul class="list-group"  v-bind:class="{'hidden':answeredQuestionsCount==0}">
					<li class="list-group-item"><a class="hidden-xs" id="homelink" href="index.php"><img src="./assets/ldc2alpha.png" alt="Linux Distribution Chooser" style="
						width: 100%;v
						"></a></li>
						<li class="list-group-item">
							<span class="badge"><span id="answeredCount">{{ answeredQuestionsCount }}</span>/ <span id="answerCount">{{ questionsCount }}</span></span>
							<span id="answered">{{ text('answered') }}</span>
						</li>
						<li class="list-group-item">
							<div class="checkbox">
								<label>
									<input type="checkbox" v-model="displayExcluded">  {{ text('displayExcluded') }}
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" v-model="displayFilters">  {{ text('displayFilters') }}
								</label>
							</div>
						</li>
						<li class="list-group-item">
							<a class="btn btn-primary" id="getresult" v-on:click="displayResults" >{{ text('getresult') }}</a>
						</li>
						<li class="list-group-item" v-if="currentTestLoading">
							<i class="fa fa-cog fa-spin fa-fw"></i>  {{ this.text("calculating"); }}
						</li>
					</ul>
				</div>		
			</div>
		</div>
	</div>
	<script src="./built/3rdparty.min.js"></script>
	<script src="./built/ldc.min.js"></script>
	<script>
		$(document).ready(function(){
			$('.question-header:first').trigger("click");
			$("#rating-stars").rateYo({
				rating: 0.0,
				halfStar: false,
    			fullStar: true
			});
			if (window.location.hash.indexOf("about") !== -1){
				$("#about").modal();
				vm.modalOpen = true;
			}
		});
	</script>
</body>
</html>
